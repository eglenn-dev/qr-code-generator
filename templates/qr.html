<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Code Generator</title>
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='whale.webp') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='qr.css') }}">
    <script src="{{ url_for('static', filename='colorPreview.js') }}"></script>
</head>

<body>
    <section id="center">
        <h1>QR Code Generator</h1>
        <p>When customizing the colors, be sure that there is enough contrast between them so device cameras can scan
            the code.</p>
    </section>
    <section id="settings-form">
        <form action="/qr-img" method="post">
            <label for="urlInput">URL</label>
            <input type="text" class="input-text" id="urlInput" name="urlInput" placeholder="Enter URL"
                required><br><br>

            <label for="sliderInput">Scale Size</label>
            <input type="range" id="scale" name="scale" min="5" max="20" step="1"><br><br>

            <label for="hexcodeInput">Border Color</label>
            <input oninput="updateColorPreview()" type="text" class="input-text" id="borderColor" name="borderColor" placeholder="#FFFFFF"
               value="#FFFFFF" pattern="^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$">
            <div id="borderPreview"></div>
            
            <label for="hexcodeInput">Code Color</label>
            <input oninput="updateColorPreview()" type="text" class="input-text" id="codeColor" name="codeColor" placeholder="#FFFFFF"
            value="#000000" pattern="^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$">
            <div id="codePreview"></div>
            
            <label for="hexcodeInput">Background Color</label>
            <input oninput="updateColorPreview()" type="text" class="input-text" id="backgroundColor" name="backgroundColor" placeholder="#FFFFFF"
            value="#FFFFFF" pattern="^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$">
            <div id="backgroundPreview"></div>

            <button>
                <input id="submit-button" name="generate" type="submit" value="Generate">
            </button>
        </form>
    </section>
    <footer>
        <a href="https://eglenn.dev" target="_blank">
            <p id="cp-footer">Copyright &copy; Ethan Glenn 2023</p>
        </a>
    </footer>
    <script>
        updateColorPreview();
        enforceHashtag();
        const now = new Date();
        const year = now.getFullYear();
        footerMessage = document.getElementById('cp-footer');
        footerMessage.innerHTML = `Copyright &copy; Ethan Glenn ${year}`;
    </script>
</body>

</html>